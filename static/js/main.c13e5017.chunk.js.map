{"version":3,"sources":["img/logo.png","panels/Home.js","panels/Settings.js","App.js","index.js"],"names":["module","exports","axios","require","Home","id","go","params","fetchedUser","groupPin","groupGoId","useState","periodValue","setPeriod","days","setDays","sports","setSports","cost","setCost","sport","setSport","award","setAward","type_map","period1","period2","period3","getCost","data","nsCalc","adult","type","parseInt","duration","pin","fulltime","console","log","post","then","response","s","catch","error","a","async","length","fetch","headers","fetchedSports","ns","sort","b","nameA","name","nameB","sn","i","push","value","key","getDataAxios","vk_viewer_group_role","size","level","onClick","data-to","className","src","logo","alt","style","marginTop","marginLeft","color","top","placeholder","onChange","e","target","min","max","props","period","display","fontSize","marginBottom","paddingTop","toLocaleString","stretched","pid","window","location","href","osName","platform","Settings","saveSettings","defaultPin","newGroupPin","setNewGroupPin","newGoId","setNewGoId","left","IOS","title","defaultValue","App","activePanel","setActivePanel","setUser","popout","setPopout","setGroupPin","setGoId","qs","crypto","urlParams","search","slice","split","map","queryParam","kvp","reduce","query","ordered","Object","keys","forEach","stringParams","stringify","createHmac","update","digest","toString","replace","sign","useEffect","connect","subscribe","detail","schemeAttribute","document","createAttribute","scheme","body","attributes","setNamedItem","send","user","fetchData","group_info","goid","getGroupInfo","currentTarget","dataset","to","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.c13e5017.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\nimport Group from '@vkontakte/vkui/dist/components/Group/Group';\nimport Cell from '@vkontakte/vkui/dist/components/Cell/Cell';\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\nimport Avatar from '@vkontakte/vkui/dist/components/Avatar/Avatar';\nimport Header from \"@vkontakte/vkui/dist/components/Header/Header\";\nimport Select from \"@vkontakte/vkui/dist/components/Select/Select\";\nimport FormLayout from \"@vkontakte/vkui/dist/components/FormLayout/FormLayout\";\nimport Slider from \"@vkontakte/vkui/dist/components/Slider/Slider\";\nimport Input from \"@vkontakte/vkui/dist/components/Input/Input\";\n\nimport fetch from 'axios';\nimport logo from '../img/logo.png';\n\nimport { useState, useEffect } from 'react';\n\nconst axios = require('axios');\n\n\nconst Home = ({ id, go, fetchedUser, params, groupPin, groupGoId}) => {\n    const [periodValue, setPeriod] = useState('period1');\n\tconst [days, setDays] = useState(1);\n\n    const [sports, setSports] = useState([]);\n    const [cost, setCost] = useState(0);\n    const [sport, setSport] = useState(0);\n    const [award, setAward] = useState(50000);\n\n    const [end, setEnd] = useState(null);\n\n    const type_map = {period1: 10, period2: 30, period3: 20};\n\n    async function getDataAxios() {\n    \tif (sports.length) return;\n        const response =\n            await fetch(\"https://flashlightservice.ml/vkapps/vk-people-protect/api.php?method=sports\",\n                { headers: {'Content-Type': 'application/json'}}\n            );\n\n        var fetchedSports = response.data;\n        var ns = fetchedSports['nsSports'];\n        ns = ns.sort(function(a, b) {\n            var nameA = a.name;\n            var nameB = b.name;\n            if (nameA < nameB) return -1;\n            if (nameA > nameB) return 1;\n\t\t\treturn 0});\n        var sn = [];\n        for (var i = 0; i < ns.length; i++) {\n            var s = ns[i];\n            sn.push(<option value={s['id']} key={s['id']}>{s['name']}</option>);\n        }\n        setSports(sn);\n    }\n    getDataAxios();\n\n\tfunction DaysInput(props) {\n\t\tvar period = props.period;\n\t\tconsole.log(period);\n\n\t\tif (period === 'period1' && (days <= 30 && days >= 1)) getCost();\n\t\telse if (period === 'period2' && (days >= 31 && days <= 90)) getCost();\n\n        return <i style={{display: 'none'}}></i>;\n\n\t}\n\n\tfunction getCost() {\n\t\tvar data = {nsCalc: {adult: 0, type: type_map[periodValue], sports: [parseInt(sport)], award: parseInt(award), duration: days, pin: groupPin, fulltime: 0}};\n\t\tconsole.log(data);\n\t\taxios.post('https://flashlightservice.ml/vkapps/vk-people-protect/api.php?method=calc', data)\n            .then(function (response) {\n                var s = response.data['nsCalcResult']['sum'];\n                setCost(s);\n            })\n            .catch(function (error) {\n                console.log(error);\n            });\n\t}\n\n\tconsole.log(periodValue, award, days);\n\n\t//\n\nreturn (\n\t<Panel id={id}>\n\t\t<PanelHeader >GoProtect. Страхование спортсменов для тренировок и соревнований </PanelHeader>\n\t\t{params.vk_viewer_group_role === 'admin' && <Div><Button size=\"xl\" level=\"secondary\" onClick={go} data-to=\"settings\">Настройки приложения</Button></Div> }\n\n\t\t<Group><img className=\"logo-image\" src={logo} alt=\"GoProtect logo\" style={{marginTop: '15px', marginLeft: '15px'}}/>\n\t\t\t<Div style={{color: '#909499'}}>Принимается на всех соревнованиях, подходит для спортивных секций, тренировок, сборов, лагерей. Для взрослых и детей. 200+ видов спорта. Более 200 000 довольных клиентов.</Div>\n\t\t</Group>\n\t\t<Group>\n\t\t<FormLayout>\n\t\t\t<Select top=\"Выберите вид спорта\" placeholder=\"Не выбрано\" onChange={e => setSport(e.target.value)}>\n\t\t\t\t{sports}\n\t\t\t</Select>\n\t\t\t<Select top=\"Выберите период\" value={periodValue} onChange={e => setPeriod(e.target.value)}>\n\t\t\t\t<option value=\"period1\">Одно соревнование</option>\n\t\t\t\t<option value=\"period2\">Сборы</option>\n\t\t\t\t<option value=\"period3\">Годовой полис</option>\n\t\t\t</Select>\n\n\t\t\t<Select top=\"Выберите страховую сумму\" value={award} onChange={e => setAward(e.target.value)}>\n\t\t\t\t<option value=\"50000\">50 000 руб.</option>\n\t\t\t\t<option value=\"100000\">100 000 руб.</option>\n\t\t\t\t<option value=\"200000\">200 000 руб.</option>\n\t\t\t</Select>\n\n\t\t\t{periodValue === 'period1'  && <Input value={days} top=\"Выберите кол-во дней от 1 до 30\" type=\"number\" min={1} max={30} onChange={e => setDays(parseInt(e.target.value)) }/>}\n\t\t\t{periodValue === 'period2' && <Input value={days} top=\"Выберите кол-во дней от 31 до 90\" type=\"number\" min={31} max={90} onChange={e => setDays(parseInt(e.target.value)) }/>}\n\t\t\t<DaysInput period={periodValue} />\n\n\t\t\t<h2 style={{fontSize: '20px', marginLeft: '15px', marginTop: '0', marginBottom: '0', paddingTop: '0'}}>Стоимость спортивной страховки на одного человека: {cost && (cost).toLocaleString('ru')} руб.</h2>\n\t\t\t<Div>\n\t\t\t\t{cost > 0 && <Button size=\"xl\" level=\"primary\" stretched onClick={() => {\n\t\t\t\t\tvar pid = groupGoId ? groupGoId : '';\n\t\t\t\t\twindow.location.href = \"https://www.goprotect.ru/calc?product=1&partnerId=\"+pid+\"&utm_medium=vk_widget&state=2&is_adult=1&orderType=\"+type_map[periodValue]+\"&count_days=\"+days+\"&sport=\"+sport+\"&award=\"+award;\n\t\t\t\t}}>Оформить онлайн</Button>}\n\t\t\t</Div>\n\t\t</FormLayout>\n\t\t</Group>\n\n\t</Panel>\n)};\n\nexport default Home;\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\r\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\r\nimport HeaderButton from '@vkontakte/vkui/dist/components/HeaderButton/HeaderButton';\r\nimport { platform, IOS } from '@vkontakte/vkui';\r\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\r\nimport Group from '@vkontakte/vkui/dist/components/Group/Group';\r\nimport Cell from '@vkontakte/vkui/dist/components/Cell/Cell';\r\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport Input from \"@vkontakte/vkui/dist/components/Input/Input\";\r\nimport FormLayout from \"@vkontakte/vkui/dist/components/FormLayout/FormLayout\";\r\nimport { Link } from '@vkontakte/vkui';\r\n\r\nconst osName = platform();\r\n\r\nconst Settings = ({ id, go, groupPin, groupGoId, saveSettings, defaultPin}) => {\r\n    const [newGroupPin, setNewGroupPin] = useState(groupPin === defaultPin ? null : groupPin);\r\n    const [newGoId, setNewGoId] = useState(groupGoId);\r\n\r\n\r\n    return (\r\n        <Panel id={id}>\r\n            <PanelHeader\r\n                left={<HeaderButton onClick={go} data-to=\"home\">\r\n                    {osName === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n                </HeaderButton>}>\r\n                Настройки приложения\r\n            </PanelHeader>\r\n            <Group title=\"НАСТРОЙКИ\">\r\n                <Div>Начни зарабатывать с ГоуПротект. С каждого проданного полиса вы получаете 15%.<br />Посмотреть статистику и вывести денежные средства можно в личном кабинете.<br /><br />\r\n                    Получи данные для настройки и личный кабинет по почте <Link href=\"mailto:partners@goprotect.ru\">partners@goprotect.ru</Link> или в WhatsApp: <Link href=\"https://api.whatsapp.com/send?phone=79310086038&text=%D0%94%D0%BE%D0%B1%D1%80%D1%8B%D0%B9+%D0%B4%D0%B5%D0%BD%D1%8C%2C+%D1%8F+%D0%B1%D1%8B+%D1%85%D0%BE%D1%82%D0%B5%D0%BB+%D0%BF%D0%BE%D0%BB%D1%83%D1%87%D0%B8%D1%82%D1%8C+%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF+%D0%B4%D0%BB%D1%8F+%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F+%D0%92%D0%9A+%D0%93%D0%BE%D1%83%D0%BF%D1%80%D0%BE%D1%82%D0%B5%D0%BA%D1%82\">+7 (931) 008-60-38</Link></Div>\r\n            </Group>\r\n            <Group>\r\n            <FormLayout>\r\n                <Input defaultValue={groupPin === defaultPin ? '' : groupPin} onChange={e => setNewGroupPin(e.target.value)} top=\"Пин\" type=\"text\" />\r\n                <Input defaultValue={groupPin === defaultPin ? '' : groupGoId} onChange={e => setNewGoId(e.target.value)} top=\"Идентификатор\" type=\"text\" />\r\n                <Div>\r\n                    <Button size=\"xl\" level=\"primary\" onClick={() => {\r\n                        saveSettings(newGroupPin, newGoId);\r\n                    }}>Сохранить</Button>\r\n                </Div>\r\n            </FormLayout>\r\n            </Group>\r\n        </Panel>\r\n    );\r\n};\r\n\r\nSettings.propTypes = {\r\n    id: PropTypes.string.isRequired,\r\n    go: PropTypes.func.isRequired\r\n};\r\n\r\nexport default Settings;\r\n","import React, { useState, useEffect } from 'react';\rimport connect from '@vkontakte/vk-connect';\rimport View from '@vkontakte/vkui/dist/components/View/View';\rimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\rimport fetch from 'axios';\rimport '@vkontakte/vkui/dist/vkui.css';\r\rimport Home from './panels/Home';\rimport Settings from './panels/Settings';\r\rconst secretKey = \"8mGOLEcyIbA4JPle2mDo\";\rconst defaultPin = '5860caa2d8da976e911dda752c72760e';\r\rconst App = () => {\r\tconst [activePanel, setActivePanel] = useState('home');\r\tconst [fetchedUser, setUser] = useState(null);\r\tconst [popout, setPopout] = useState(<ScreenSpinner size='large' />);\r\r\r    const [groupPin, setGroupPin] = useState(defaultPin);\r    const [groupGoId, setGoId] = useState('');\r\r    const parseQueryString = (string) => {\r        return string.slice(1).split('&')\r            .map((queryParam) => {\r                let kvp = queryParam.split('=');\r                return {key: kvp[0], value: kvp[1]}\r            })\r            .reduce((query, kvp) => {\r                query[kvp.key] = kvp.value;\r                return query\r            }, {})\r    };\r\r    const qs = require('querystring');\r    const crypto = require('crypto');\r\r    const urlParams = parseQueryString(window.location.search);\r    const ordered = {};\r    Object.keys(urlParams).sort().forEach((key) => {\r        if (key.slice(0, 3) === 'vk_') {\r            ordered[key] = urlParams[key];\r        }\r    });\r\r    const stringParams = qs.stringify(ordered);\r    console.log(stringParams);\r    const paramsHash = crypto\r        .createHmac('sha256', secretKey)\r        .update(stringParams)\r        .digest()\r        .toString('base64')\r        .replace(/\\+/g, '-')\r        .replace(/\\//g, '_')\r        .replace(/=$/, '');\r\r    if (paramsHash !== urlParams.sign) {\r    \tconsole.log('Неверная подпись!');\r    \tthrow 'Неверная подпись!';\r\t}\r\r\tuseEffect(() => {\r\t\tconnect.subscribe(({ detail: { type, data }}) => {\r\t\t\tif (type === 'VKWebAppUpdateConfig') {\r\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\r\t\t\t\tschemeAttribute.value = data.scheme ? data.scheme : 'client_light';\r\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\r\t\t\t}\r\t\t});\r\t\tasync function fetchData() {\r\t\t\tconst user = await connect.send('VKWebAppGetUserInfo');\r\t\t\tsetUser(user);\r\t\t\tsetPopout(null);\r\t\t}\r\t\tfetchData();\r\r        async function getGroupInfo() {\r            const response =\r                await fetch(\"https://flashlightservice.ml/vkapps/vk-people-protect/api.php?method=get-group-info&\"+window.location.search.slice(1),\r                    { headers: {'Content-Type': 'application/json'}}\r                );\r\r            var group_info = response.data;\r            if (group_info.goid) {\r            \tsetGroupPin(group_info.pin);\r            \tsetGoId(group_info.goid);\r\t\t\t}\r\r        }\r        getGroupInfo();\r\r\r\t}, []);\r\r\tconst go = e => {\r\t\tsetActivePanel(e.currentTarget.dataset.to);\r\t};\r\tfunction goToPanel(panel) {\r\t\tsetActivePanel(panel);\r\t}\r\r\tasync function saveSettings(newGroupPin, newGoId) {\r\t\tsetGroupPin(newGroupPin);\r\t\tsetGoId(newGoId);\r\t\tawait fetch(\"https://flashlightservice.ml/vkapps/vk-people-protect/api.php?method=save-group-info&group_pin=\"+newGroupPin+\"&go_id=\"+newGoId+\"&\"+window.location.search.slice(1))\r\t}\r\r\treturn (\r\t\t<View activePanel={activePanel} popout={popout}>\r\t\t\t<Home id='home' fetchedUser={fetchedUser} go={go} params={urlParams} groupPin={groupPin} groupGoId={groupGoId} />\r\t\t\t<Settings id='settings' go={go} groupPin={groupPin} groupGoId={groupGoId} saveSettings={saveSettings} defaultPin={defaultPin}/>\r\t\t</View>\r\r\t);\r};\r\rexport default App;\r\r","import 'core-js/features/map';\nimport 'core-js/features/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vk-connect';\nimport App from './App';\n// import registerServiceWorker from './sw';\n\n// Init VK  Mini App\nconnect.send('VKWebAppInit');\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\n// registerServiceWorker();\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}